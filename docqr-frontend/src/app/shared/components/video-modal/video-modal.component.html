<!-- Modal Backdrop -->
<div 
  *ngIf="isOpen" 
  class="modal-backdrop fixed inset-0 bg-black bg-opacity-75 z-[9999] flex items-center justify-center p-4"
  (click)="onBackdropClick($event)">
  
  <!-- Modal Content -->
  <div 
    class="modal-content bg-white rounded-xl shadow-2xl w-full max-w-3xl h-auto max-h-[85vh] flex flex-col"
    (click)="$event.stopPropagation()">
    
    <!-- Header del Modal -->
    <div class="flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50 rounded-t-xl">
      <h2 class="text-base font-bold text-gray-900">{{ videoTitle }}</h2>
      
      <!-- Botón de cerrar -->
      <button 
        type="button"
        (click)="closeModal()"
        class="p-1.5 rounded-lg hover:bg-red-100 hover:text-red-600 transition-colors"
        title="Cerrar">
        <span class="material-symbols-outlined text-lg">close</span>
      </button>
    </div>

    <!-- Video Container -->
    <div class="relative w-full" style="padding-bottom: 56.25%;">
      <iframe
        *ngIf="safeVideoUrl && isOpen"
        [src]="safeVideoUrl"
        class="absolute top-0 left-0 w-full h-full border-0 rounded-b-xl"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
        title="Video tutorial">
      </iframe>
      
      <div *ngIf="!safeVideoUrl" class="absolute inset-0 flex flex-col items-center justify-center bg-gray-100 rounded-b-xl p-8">
        <span class="material-symbols-outlined text-4xl text-gray-400 mb-2">error_outline</span>
        <p class="text-sm font-medium text-gray-600">URL de video no válida</p>
        <p class="text-xs text-gray-400 mt-1 text-center">Verifica que la URL de YouTube sea correcta</p>
      </div>
    </div>
  </div>
</div>

