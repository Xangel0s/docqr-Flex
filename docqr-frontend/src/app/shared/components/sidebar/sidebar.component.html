<!-- Overlay para móvil -->
<div 
  *ngIf="isOpen"
  class="fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden"
  (click)="close()">
</div>

<!-- Sidebar -->
<aside 
  class="fixed md:sticky top-0 h-screen w-64 flex-shrink-0 flex-col bg-white border-r border-gray-200 z-50 transition-transform duration-300 ease-in-out md:translate-x-0"
  [ngClass]="{
    'translate-x-0': isOpen,
    '-translate-x-full': !isOpen
  }">
  
  <div class="flex h-screen flex-col justify-between p-2">
    <!-- Logo y Header -->
    <div class="flex flex-col">
      <div class="flex items-center gap-2 px-2 py-1 mb-1">
        <div class="flex items-center justify-center size-7 rounded-lg bg-primary text-white shrink-0">
          <span class="material-symbols-outlined text-base">qr_code_scanner</span>
        </div>
        <h1 class="text-gray-900 text-sm font-bold">DocQR</h1>
        <!-- Botón cerrar para móvil -->
        <button 
          class="md:hidden ml-auto p-0.5 hover:bg-gray-100 rounded shrink-0"
          (click)="close()">
          <span class="material-symbols-outlined text-gray-600 text-base">close</span>
        </button>
      </div>

      <!-- Navegación -->
      <div class="flex flex-col gap-0.5 pt-1">
        <a 
          routerLink="/" 
          routerLinkActive="bg-primary bg-opacity-10 text-primary font-semibold"
          [routerLinkActiveOptions]="{exact: true}"
          (click)="navigateAndClose()"
          class="flex items-center gap-1.5 px-2 py-1 rounded-lg text-gray-600 hover:bg-primary hover:bg-opacity-10 hover:text-primary transition-colors cursor-pointer">
          <span class="material-symbols-outlined text-base">dashboard</span>
          <p class="text-xs font-medium">Dashboard</p>
        </a>

        <a 
          routerLink="/documents" 
          routerLinkActive="bg-primary bg-opacity-10 text-primary font-semibold"
          (click)="navigateAndClose()"
          class="flex items-center gap-1.5 px-2 py-1 rounded-lg text-gray-600 hover:bg-primary hover:bg-opacity-10 hover:text-primary transition-colors cursor-pointer">
          <span class="material-symbols-outlined text-base">folder</span>
          <p class="text-xs font-medium">Mis Documentos</p>
        </a>

        <a 
          routerLink="/upload" 
          routerLinkActive="bg-primary bg-opacity-10 text-primary font-semibold"
          (click)="navigateAndClose()"
          class="flex items-center gap-1.5 px-2 py-1 rounded-lg text-gray-600 hover:bg-primary hover:bg-opacity-10 hover:text-primary transition-colors cursor-pointer">
          <span class="material-symbols-outlined text-base">qr_code_2</span>
          <p class="text-xs font-medium">Generar QR</p>
        </a>

            <a 
              routerLink="/settings" 
              routerLinkActive="bg-primary bg-opacity-10 text-primary font-semibold"
              (click)="navigateAndClose()"
              class="flex items-center gap-1.5 px-2 py-1 rounded-lg text-gray-600 hover:bg-primary hover:bg-opacity-10 hover:text-primary transition-colors cursor-pointer">
              <span class="material-symbols-outlined text-base">settings</span>
              <p class="text-xs font-medium">Configuración</p>
            </a>

            <a 
              routerLink="/compression" 
              routerLinkActive="bg-primary bg-opacity-10 text-primary font-semibold"
              (click)="navigateAndClose()"
              class="flex items-center gap-1.5 px-2 py-1 rounded-lg text-gray-600 hover:bg-primary hover:bg-opacity-10 hover:text-primary transition-colors cursor-pointer">
              <span class="material-symbols-outlined text-base">archive</span>
              <p class="text-xs font-medium">Compresión</p>
            </a>
          </div>
        </div>

    <!-- Footer del Sidebar -->
    <div class="flex flex-col gap-0.5 mt-auto pt-1 border-t border-gray-200">
      <a 
        routerLink="/help" 
        routerLinkActive="bg-primary bg-opacity-10 text-primary font-semibold"
        (click)="navigateAndClose()"
        class="flex items-center gap-1.5 px-2 py-1 rounded-lg text-gray-600 hover:bg-primary hover:bg-opacity-10 hover:text-primary transition-colors cursor-pointer">
        <span class="material-symbols-outlined text-base">help</span>
        <p class="text-xs font-medium">Ayuda</p>
      </a>

      <button 
        type="button"
        (click)="logout()"
        class="flex items-center gap-1.5 px-2 py-1 rounded-lg text-gray-600 hover:bg-primary hover:bg-opacity-10 hover:text-primary transition-colors cursor-pointer w-full text-left">
        <span class="material-symbols-outlined text-base">logout</span>
        <p class="text-xs font-medium">Cerrar Sesión</p>
      </button>
    </div>
  </div>
</aside>

