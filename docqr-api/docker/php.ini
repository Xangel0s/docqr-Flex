; ====================================
; PHP.INI para Docker Production
; DocQR-Flex API
; ====================================

[PHP]

; ====================================
; SEGURIDAD
; ====================================
expose_php = Off
display_errors = Off
display_startup_errors = Off
log_errors = On
error_log = /var/www/html/storage/logs/php-error.log
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT

; ====================================
; RECURSOS
; ====================================
memory_limit = ${PHP_MEMORY_LIMIT}
max_execution_time = 60
max_input_time = 60
max_input_vars = 1000

; ====================================
; ARCHIVOS
; ====================================
file_uploads = On
upload_max_filesize = ${PHP_UPLOAD_MAX_FILESIZE}
post_max_size = ${PHP_POST_MAX_SIZE}
max_file_uploads = 20

; ====================================
; SESIONES
; ====================================
session.save_handler = files
session.save_path = /var/www/html/storage/framework/sessions
session.use_strict_mode = 1
session.use_cookies = 1
session.use_only_cookies = 1
session.cookie_httponly = 1
session.cookie_samesite = Lax
session.gc_maxlifetime = 1440

; ====================================
; TIMEZONE
; ====================================
date.timezone = America/Lima

; ====================================
; OUTPUT
; ====================================
output_buffering = 4096
default_charset = "UTF-8"

; ====================================
; OPCACHE (configurado en Dockerfile)
; ====================================
; Ver /usr/local/etc/php/conf.d/opcache.ini
